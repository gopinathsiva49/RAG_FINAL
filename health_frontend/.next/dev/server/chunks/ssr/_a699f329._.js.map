{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/gopinathsivakumar/Downloads/health/lib/api.ts"],"sourcesContent":["const API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:4000/api/v1'\n\ninterface ApiResponse<T> {\n  data?: T\n  error?: string\n  message?: string\n}\n\nexport const api = {\n  async signup(name: string, email: string, password: string): Promise<ApiResponse<{ token: string }>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/auth/signup`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name, email, password }),\n      })\n      const data = await response.json()\n      if (!response.ok) {\n        return { error: data.message || 'Signup failed' }\n      }\n      return { data }\n    } catch (error) {\n      return { error: 'Network error. Please try again.' }\n    }\n  },\n\n  async login(email: string, password: string): Promise<ApiResponse<{ token: string }>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/auth/login`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email, password }),\n      })\n      const data = await response.json()\n      if (!response.ok) {\n        return { error: data.message || 'Login failed' }\n      }\n      return { data }\n    } catch (error) {\n      return { error: 'Network error. Please try again.' }\n    }\n  },\n\n  async search(query: string, token: string): Promise<ApiResponse<{ response: string }>> {\n    try {\n      const response = await fetch(`${API_BASE_URL}/search`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `${token}`,\n        },\n        body: JSON.stringify({ query }),\n      })\n      const data = await response.json()\n      if (!response.ok) {\n        return { error: data.message || 'Search failed' }\n      }\n      return { data: data.answer ? { response: data.answer } : undefined, message: data.message }\n    } catch (error) {\n      return { error: 'Network error. Please try again.' }\n    }\n  },\n}\n"],"names":[],"mappings":";;;;AAAA,MAAM,eAAe,QAAQ,GAAG,CAAC,wBAAwB,IAAI;AAQtD,MAAM,MAAM;IACjB,MAAM,QAAO,IAAY,EAAE,KAAa,EAAE,QAAgB;QACxD,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,YAAY,CAAC,EAAE;gBAC1D,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAM;oBAAO;gBAAS;YAC/C;YACA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,OAAO;oBAAE,OAAO,KAAK,OAAO,IAAI;gBAAgB;YAClD;YACA,OAAO;gBAAE;YAAK;QAChB,EAAE,OAAO,OAAO;YACd,OAAO;gBAAE,OAAO;YAAmC;QACrD;IACF;IAEA,MAAM,OAAM,KAAa,EAAE,QAAgB;QACzC,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,WAAW,CAAC,EAAE;gBACzD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAS;YACzC;YACA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,OAAO;oBAAE,OAAO,KAAK,OAAO,IAAI;gBAAe;YACjD;YACA,OAAO;gBAAE;YAAK;QAChB,EAAE,OAAO,OAAO;YACd,OAAO;gBAAE,OAAO;YAAmC;QACrD;IACF;IAEA,MAAM,QAAO,KAAa,EAAE,KAAa;QACvC,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,OAAO,CAAC,EAAE;gBACrD,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,iBAAiB,GAAG,OAAO;gBAC7B;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAM;YAC/B;YACA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,OAAO;oBAAE,OAAO,KAAK,OAAO,IAAI;gBAAgB;YAClD;YACA,OAAO;gBAAE,MAAM,KAAK,MAAM,GAAG;oBAAE,UAAU,KAAK,MAAM;gBAAC,IAAI;gBAAW,SAAS,KAAK,OAAO;YAAC;QAC5F,EAAE,OAAO,OAAO;YACd,OAAO;gBAAE,OAAO;YAAmC;QACrD;IACF;AACF"}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///Users/gopinathsivakumar/Downloads/health/app/login/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport Link from 'next/link'\nimport { useRouter } from 'next/navigation'\nimport { api } from '@/lib/api'\n\nexport default function LoginPage() {\n  const [formData, setFormData] = useState({\n    email: '',\n    password: '',\n  })\n  const [error, setError] = useState('')\n  const [isLoading, setIsLoading] = useState(false)\n  const router = useRouter()\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target\n    setFormData(prev => ({ ...prev, [name]: value }))\n  }\n\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault()\n    setError('')\n\n    if (!formData.email || !formData.password) {\n      setError('Email and password are required')\n      return\n    }\n\n    setIsLoading(true)\n    const result = await api.login(formData.email, formData.password)\n    setIsLoading(false)\n\n    if (result.error) {\n      setError(result.error)\n      return\n    }\n\n    if (result.data?.token) {\n      console.log(\"Logged in successfully, token:\", result.data.token);\n      localStorage.setItem('token', result.data.token)\n      router.push('/home')\n    }\n  }\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-background\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"bg-card rounded-xl shadow-md p-6 md:p-8\">\n          <h1 className=\"text-2xl font-bold text-card-foreground mb-6 text-center\">Login</h1>\n\n          {error && (\n            <div className=\"bg-destructive/10 border border-destructive text-destructive rounded-lg p-3 mb-4 text-sm\">\n              {error}\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-card-foreground mb-1\">\n                Email\n              </label>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                placeholder=\"you@example.com\"\n                value={formData.email}\n                onChange={handleChange}\n                disabled={isLoading}\n                className=\"w-full px-4 py-2 rounded-xl border border-input bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-50\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-card-foreground mb-1\">\n                Password\n              </label>\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                placeholder=\"••••••\"\n                value={formData.password}\n                onChange={handleChange}\n                disabled={isLoading}\n                className=\"w-full px-4 py-2 rounded-xl border border-input bg-background text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-50\"\n              />\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={isLoading}\n              className=\"w-full bg-primary text-primary-foreground py-2 px-4 rounded-xl font-medium hover:bg-primary/90 transition-colors mt-6 disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isLoading ? 'Logging in...' : 'Login'}\n            </button>\n          </form>\n\n          <p className=\"text-center text-sm text-muted-foreground mt-6\">\n            Don't have an account?{' '}\n            <Link href=\"/signup\" className=\"text-primary hover:underline font-medium\">\n              Sign Up\n            </Link>\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;QACvC,OAAO;QACP,UAAU;IACZ;IACA,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY,CAAA,OAAQ,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,KAAK,EAAE;YAAM,CAAC;IACjD;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QAET,IAAI,CAAC,SAAS,KAAK,IAAI,CAAC,SAAS,QAAQ,EAAE;YACzC,SAAS;YACT;QACF;QAEA,aAAa;QACb,MAAM,SAAS,MAAM,iHAAG,CAAC,KAAK,CAAC,SAAS,KAAK,EAAE,SAAS,QAAQ;QAChE,aAAa;QAEb,IAAI,OAAO,KAAK,EAAE;YAChB,SAAS,OAAO,KAAK;YACrB;QACF;QAEA,IAAI,OAAO,IAAI,EAAE,OAAO;YACtB,QAAQ,GAAG,CAAC,kCAAkC,OAAO,IAAI,CAAC,KAAK;YAC/D,aAAa,OAAO,CAAC,SAAS,OAAO,IAAI,CAAC,KAAK;YAC/C,OAAO,IAAI,CAAC;QACd;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA2D;;;;;;oBAExE,uBACC,8OAAC;wBAAI,WAAU;kCACZ;;;;;;kCAIL,8OAAC;wBAAK,UAAU;wBAAc,WAAU;;0CACtC,8OAAC;;kDACC,8OAAC;wCAAM,SAAQ;wCAAQ,WAAU;kDAAsD;;;;;;kDAGvF,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,MAAK;wCACL,aAAY;wCACZ,OAAO,SAAS,KAAK;wCACrB,UAAU;wCACV,UAAU;wCACV,WAAU;;;;;;;;;;;;0CAId,8OAAC;;kDACC,8OAAC;wCAAM,SAAQ;wCAAW,WAAU;kDAAsD;;;;;;kDAG1F,8OAAC;wCACC,IAAG;wCACH,MAAK;wCACL,MAAK;wCACL,aAAY;wCACZ,OAAO,SAAS,QAAQ;wCACxB,UAAU;wCACV,UAAU;wCACV,WAAU;;;;;;;;;;;;0CAId,8OAAC;gCACC,MAAK;gCACL,UAAU;gCACV,WAAU;0CAET,YAAY,kBAAkB;;;;;;;;;;;;kCAInC,8OAAC;wBAAE,WAAU;;4BAAiD;4BACrC;0CACvB,8OAAC,uKAAI;gCAAC,MAAK;gCAAU,WAAU;0CAA2C;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQtF"}}]
}